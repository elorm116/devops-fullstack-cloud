# k8s/secrets.yaml.tmpl
# Kubernetes Secret for the API deployment.
#
# Usage:
#   1. Copy this file:  cp secrets.yaml.tmpl secrets.yaml
#   2. Fill in the base64-encoded values (echo -n 'value' | base64)
#   3. Apply:  kubectl apply -f k8s/secrets.yaml
#   4. NEVER commit secrets.yaml to git â€” it's in .gitignore
---
apiVersion: v1
kind: Secret
metadata:
  name: api-secrets
  namespace: default
type: Opaque
data:
  # echo -n 'mongodb://blogapi:PASSWORD@mongodb:27017/blog?authSource=blog' | base64
  MONGO_URI: <BASE64_ENCODED_MONGO_URI>
  # echo -n 'your-jwt-secret' | base64
  JWT_SECRET: <BASE64_ENCODED_JWT_SECRET>
  # echo -n 'your-vault-role-id' | base64
  VAULT_ROLE_ID: <BASE64_ENCODED_VAULT_ROLE_ID>
  # echo -n 'your-vault-secret-id' | base64
  VAULT_SECRET_ID: <BASE64_ENCODED_VAULT_SECRET_ID>
  # echo -n 'https://yourdomain.com' | base64
  CORS_ORIGIN: <BASE64_ENCODED_CORS_ORIGIN>
